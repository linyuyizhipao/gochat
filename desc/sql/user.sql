CREATE TABLE `user` (
`id` bigint(20) NOT NULL AUTO_INCREMENT,
`user_name` varchar(20) NOT NULL DEFAULT '',
`password` char(40) NOT NULL DEFAULT '',
`create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY (`id`),
UNIQUE KEY `user_name` (`user_name`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COMMENT='用户表'




CREATE TABLE `user_message` (
`id` bigint(20) NOT NULL AUTO_INCREMENT,
`session_id` bigint(20) NOT NULL default 0,
`seq_id` bigint(20) NOT NULL default 0,
`uid` bigint(20) NOT NULL default 0,
`to_uid` bigint(20) NOT NULL default 0,
`content` text NOT NULL,
`create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
`update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY (`id`,`create_time`),
KEY `idx_sessionid` (`session_id`,`seq_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COMMENT='用户表'
        PARTITION BY RANGE (UNIX_TIMESTAMP(create_time))
        (
        PARTITION `p_202306` VALUES LESS THAN (UNIX_TIMESTAMP('2023-06-01')),
        PARTITION `p_202307` VALUES LESS THAN (UNIX_TIMESTAMP('2023-07-01')),
        PARTITION `p_202308` VALUES LESS THAN (UNIX_TIMESTAMP('2023-08-01')),
        PARTITION `p_202309` VALUES LESS THAN (UNIX_TIMESTAMP('2023-09-01')),
        PARTITION `p_202310` VALUES LESS THAN (UNIX_TIMESTAMP('2023-10-01')),
        PARTITION `p_202311` VALUES LESS THAN (UNIX_TIMESTAMP('2023-11-01')),
        PARTITION `p_202312` VALUES LESS THAN (UNIX_TIMESTAMP('2023-12-01')),
        PARTITION `p_202401` VALUES LESS THAN (UNIX_TIMESTAMP('2024-01-01')),
        PARTITION `p_202402` VALUES LESS THAN (UNIX_TIMESTAMP('2024-02-01')),
        PARTITION `p_202403` VALUES LESS THAN (UNIX_TIMESTAMP('2024-03-01')),
        PARTITION `p_202404` VALUES LESS THAN (UNIX_TIMESTAMP('2024-04-01')),
        PARTITION `p_202405` VALUES LESS THAN (UNIX_TIMESTAMP('2024-05-01')),
        PARTITION `p_202406` VALUES LESS THAN (UNIX_TIMESTAMP('2024-06-01')),
        PARTITION `p_other` VALUES LESS THAN (MAXVALUE)
        );


CREATE TABLE `room_message` (
`id` bigint(20) NOT NULL AUTO_INCREMENT,
`rid` bigint(20) NOT NULL default 0,
`seq_id` bigint(20) NOT NULL default 0,
`uid` bigint(20) NOT NULL default 0,
`to_uid` bigint(20) NOT NULL default 0,
`content` text NOT NULL,
`create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
`update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY (`id`,`create_time`),
KEY `idx_sessionid` (`rid`,`seq_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COMMENT='用户表'
        PARTITION BY RANGE (UNIX_TIMESTAMP(create_time))
        (
        PARTITION `p_202306` VALUES LESS THAN (UNIX_TIMESTAMP('2023-06-01')),
        PARTITION `p_202307` VALUES LESS THAN (UNIX_TIMESTAMP('2023-07-01')),
        PARTITION `p_202308` VALUES LESS THAN (UNIX_TIMESTAMP('2023-08-01')),
        PARTITION `p_202309` VALUES LESS THAN (UNIX_TIMESTAMP('2023-09-01')),
        PARTITION `p_202310` VALUES LESS THAN (UNIX_TIMESTAMP('2023-10-01')),
        PARTITION `p_202311` VALUES LESS THAN (UNIX_TIMESTAMP('2023-11-01')),
        PARTITION `p_202312` VALUES LESS THAN (UNIX_TIMESTAMP('2023-12-01')),
        PARTITION `p_202401` VALUES LESS THAN (UNIX_TIMESTAMP('2024-01-01')),
        PARTITION `p_202402` VALUES LESS THAN (UNIX_TIMESTAMP('2024-02-01')),
        PARTITION `p_202403` VALUES LESS THAN (UNIX_TIMESTAMP('2024-03-01')),
        PARTITION `p_202404` VALUES LESS THAN (UNIX_TIMESTAMP('2024-04-01')),
        PARTITION `p_202405` VALUES LESS THAN (UNIX_TIMESTAMP('2024-05-01')),
        PARTITION `p_202406` VALUES LESS THAN (UNIX_TIMESTAMP('2024-06-01')),
        PARTITION `p_other` VALUES LESS THAN (MAXVALUE)
        );
